(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},n={app:0},a=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"025e":function(t,e,s){s("d3b7"),s("159b"),s("a630"),s("3ca3"),t.exports={setClass:function(t,e,s){t.length>0&&Array.from(t).forEach((function(t){s&&t.classList.remove(s),t.classList.add(e)}))},Array2Object:function(t,e,s){var i={};return t.forEach((function(t){i[t[e]]=t[s]})),i}}},"2d5e":function(t,e,s){},"368ec":function(t,e){function s(){var t=document.getElementById("animated_background"),e=document.createElement("span");e.setAttribute("class","svg_container");var s=50*Math.random();e.style.width=20+s+"px",e.style.height=20+s+"px",e.style.top=Math.random()*innerHeight+"px",e.style.left=Math.random()*innerWidth+"px";var n=document.createElement("img");n.setAttribute("src",i()),n.setAttribute("class","svg"),n.setAttribute("z-index",99),e.appendChild(n),t.appendChild(e),setTimeout((function(){e.remove()}),5e3)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=Math.floor(Math.random()*t)+1,s="./svg/"+e+".svg";return s}setInterval(s,150)},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),n=s("f309");i["a"].use(n["a"]);var a=new n["a"]({}),r=s("3304"),o=s("ade3"),l=s("5530"),c=(s("d3b7"),s("159b"),s("caad"),s("2532"),s("b64b"),s("4de4"),s("2f62")),u=s("bfa9"),d=s("bc3a"),p=s.n(d),m=p.a.create({baseURL:"https://sdr-back.dev-development.xyz",headers:{Authorization:JSON.parse(window.localStorage.getItem("vuex")).token}});i["a"].use(c["a"]);var f=new u["a"]({storage:window.localStorage}),h={current_session:null,pist_playlist:[],sessions:[],pists:[],user:null,token:null,alerts:[],main_theme:"bg-dark",WIDTH:null,profile_settings:{"banner-img":null,"banner-color":null,show:[]}},v=new c["a"].Store({plugins:[f.plugin],state:Object(l["a"])({},h),mutations:{set_CurrentSession:function(t,e){t.current_session=e},set_Sessions:function(t,e){t.sessions=e},set_PistPlaylist:function(t,e){t.pist_playlist=e},set_Token:function(t,e){t.token=e},set_User:function(t,e){t.user=e},set_Pists:function(t,e){t.pists=e},set_MainAudio:function(t,e){t.main_audio=e},set_Player:function(t,e){t.player=e},set_PlayerCurrentTime:function(t,e){t.player_currentTime=e},set_PlayerGlobalVolume:function(t,e){t.player_g_volume=e},set_PistParams:function(t,e){"string"==typeof e.field&&t.pists.forEach((function(s){s.id==e.pistid&&("string"==typeof e.value&&e.value.includes("||")&&console.log("split data"),t[e.field]=e.value)}))},set_width:function(t,e){t.WIDTH=e},update_User:function(t,e){Object.keys(t.user).includes(e.field)&&(t.user[e.field]=e.value)},push_alert:function(t,e){e.id=t.alerts.length+1,t.alerts.push(e)},remove_alert:function(t,e){t.alerts=t.alerts.filter((function(t){return t.id!==e}))},push_Pist:function(t,e){t.pists.push(e)},update_Pist:function(t,e){t.pists.forEach((function(s,i){s.id==e.pistid&&(t.pists[i][e.field]=e.value,m.patch("/api/session_track",{pistid:e.pistid,field:e.field,value:"".concat(e.value)}).catch((function(t){console.log(t)})))}))},remove_Pist:function(t,e){t.pists=t.pists.filter((function(t){return t.id!=e}))},append_Session:function(t,e){t.sessions.push(e)},update_Session:function(t,e){t.sessions.forEach((function(s,i){s.id==e.sessionid&&s.includes(e.field)&&(t.sessions[i][e.field]=e.value)}))},remove_Session:function(t,e){t.Sessions=t.sessions.filter((function(t){return t.id!=e}))},push_PistPlaylist:function(t,e){t.pist_playlist.push(e)},remove_PistPlaylist:function(t,e){t.pist_playlist=t.pist_playlist.filter((function(t){return t.id!=e}))},push_profile_settings:function(t,e){for(var s in e)Object.keys(t.profile_settings).includes(s)?t.profile_settings[s]=e[s]:t.profile_settings=Object(l["a"])(Object(l["a"])({},t.profile_settings),{},Object(o["a"])({},s,e[s]))},logout:function(t){Object.assign(t,h),window.location.href="/authentication"}},actions:{get_pistdata:function(t,e){var s;return t.state.pists.filter((function(t){if(t.id===e.pistid)switch(e.field){case"volume":s=t.volume;break}})),s}}}),_=s("8c4f"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex",staticStyle:{height:"100%"}},[s("div",{staticClass:"w-100"},[s("v-btn",{staticStyle:{position:"absolute",top:"10px",right:"10px","z-index":"90"},attrs:{color:"success","x-small":"",outlined:""},on:{click:t.save}},[t._v("Sauvegarder")]),s("BarManager"),s("div",{staticClass:"d-flex w-100",staticStyle:{height:"calc(100vh - 80px)"}},[t.track_loaded?s("Sidebar"):t._e(),s("PistContainer")],1),s("v-sheet",{staticClass:"pa-3",style:{display:(t.track_loaded,"block")},attrs:{color:"grey darken-2"}},[s("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-width":"1200",height:"500px",type:"card"}})],1)],1)])},b=[],k=s("1da1"),x=(s("b0c0"),s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"no-radius dark-1",attrs:{width:"fit-content",height:"100%",dark:""}},[s("v-navigation-drawer",{staticClass:"dark-1",attrs:{dark:"",left:"","mini-variant":t.mini,permanent:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[s("v-list-item",[s("v-list-item-title",[t._v(" Pist ")]),s("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[s("v-icon",[t._v("mdi-chevron-left")])],1)],1),s("div",{staticClass:"Slist-Pmanager"},t._l(t.player.tracks,(function(t){return s("SidebarPistManager",{key:t.id,attrs:{pist:t}})})),1)],1)],1)}),y=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition",dark:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[s("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[s("a",t._g(t._b({staticClass:"custom-link",attrs:{href:"#"}},"a",n,!1),i),[t._v(" Importer")])]}}],null,!0)},[s("v-list",{staticClass:"py-0",attrs:{dark:"",elevation:"12"}},[s("v-list-item",{staticClass:"d-flex justify-center text-3 menu-item",on:{click:t.import_Microphone}},[t._v(" Voix/Micro ")]),s("v-list-item",{staticClass:"d-flex justify-center text-3 menu-item",on:{click:function(e){t.dialog=!0}}},[t._v("Bibliothèque")])],1)],1),s("v-btn",t._g(t._b({staticStyle:{display:"none"},attrs:{color:"sucess",icon:""}},"v-btn",n,!1),i))]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{dark:"",color:"#1A1D21"}},[s("v-card-title",{staticClass:"bg-red d-flex justify-center"},[t._v(" Bibilothèque ")]),s("div",{staticStyle:{height:"600px"}},[s("div",{staticClass:"d-flex",staticStyle:{width:"50%",margin:"0 auto 0 auto"}},[s("v-text-field",{attrs:{label:"recherche"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-simple-table",{attrs:{dark:""}},[[s("thead",[s("tr",[s("th",{staticClass:"table-header"},[t._v("Pist")]),s("th",{staticClass:"text-center table-header"},[t._v("Action")])])]),s("tbody",t._l(t.pists,(function(e){return s("tr",{key:e.id},[s("td",[s("div",{staticClass:"d-flex align-center",staticStyle:{overflow:"hidden",width:"150px"}},[s("div",{staticClass:"text-tanslate-x h-100 d-flex",staticStyle:{width:"fit-content"}},[t._v(" "+t._s(e.name)+" ")])])]),s("td",{staticClass:"text-center"},["session"==t.$route.name?s("v-btn",{attrs:{color:"success",icon:""},on:{click:function(s){return t.import_PistInSession(e)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-transfer-down")])],1):t._e()],1)])})),0)]],2)],1),s("v-card-actions",[s("div",{staticClass:"w-100",staticStyle:{"overflow-x":"hidden"}},[s("label",{staticClass:"custom-btn-label",attrs:{for:"input-file"}},[t._v("Choisir un fichier à importer")]),s("input",{staticClass:"custom-btn",attrs:{type:"file",id:"input-file"},on:{change:t.handle_LocalFile}})])])],1)],1)},C=[],$=s("2909"),S=s("d4ec"),V=s("bee2"),j=s("a778"),E=s.n(j),O=s("21a6"),P=function(){function t(){Object(S["a"])(this,t),this.player=null,this.time=0,this.volume=this.player?this.player.masterGain:0,this.track_on_move=!1,this.on_selection=!1,this.userMediaStream=null}return Object(V["a"])(t,[{key:"init_player",value:function(){this.player=E()({ac:new(window.AudioContext||window.webkitAudioContext),samplesPerPixel:5e3,timescale:!0,mono:!0,waveHeight:80,container:document.getElementById("pists-container"),state:"select",seekStyle:"fill",colors:{waveOutlineColor:"#0f1013",timeColor:"red",fadeColor:"red"},zoomLevels:[500,1e3,3e3,5e3,1e4]})}},{key:"load_tracks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(s,i){t.player.load(null!=e?e:v.state.pists).then((function(){t.player.initExporter(),s()})).catch((function(){return i()}))}))}},{key:"remove_track",value:function(t){this.player.getEventEmitter().emit("removeTrack",t)}},{key:"add_track",value:function(t){this.player.getEventEmitter().emit("newtrack",t)}},{key:"set_volume",value:function(t){this.player.getEventEmitter().emit("mastervolumechange",t)}},{key:"set_track_volume",value:function(t,e){this.player.getEventEmitter().emit("volumechange",t,e)}},{key:"mute_unmute_track",value:function(t){return t.api_options.muted?this.player("volumechange",1,t):this.player("volumechange",0,t),!t.api_options.muted}},{key:"play",value:function(){this.player.getEventEmitter().emit("play")}},{key:"pause",value:function(){this.player.getEventEmitter().emit("pause")}},{key:"get_Tracks",value:function(){return this.player.tracks}},{key:"get_track",value:function(t){return this.player.tracks.filter((function(e){return e.api_options.id==t}))}},{key:"set_state",value:function(t){this.track_on_move="shift"==t,"select"==t&&(this.on_selection=!0),this.player.getEventEmitter().emit("statechange",t)}},{key:"set_duration",value:function(){console.log(this.player)}},{key:"download",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined pist";this.player.ee.on("audiorenderingfinished",(function(e,s){Object(O["saveAs"])(s,t)})),this.player.getEventEmitter().emit("startaudiorendering","wav"),O["saveAs"]}},{key:"gotStream",value:function(t){this.userMediaStream=t,this.player.initRecorder(this.userMediaStream)}}]),t}(),I=new P,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("searchbar",{attrs:{add_url:"/api/pist",item:"pist",search_url:"/api/search/pists"}}),s("div",{staticClass:"container"},[s("v-simple-table",[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Piste")]),s("th",{staticClass:"text-center"}),s("th",{staticClass:"text-right"},[t._v("action")])])]),s("tbody",t._l(t.pists,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.importedIn))]),s("td",{staticClass:"text-right"},[s("v-btn",{attrs:{"x-small":"",icon:"",color:"red"},on:{click:function(s){return t.delete_pist(e.id)}}},[s("v-icon",[t._v("mdi-close")])],1)],1)])})),0)])],1)],1)},R=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fs-3 text-white d-flex justify-space-between align-center"},[s("div",{staticClass:"head-lefft w-80 d-flex align-center pl-3"},[s("v-text-field",{attrs:{label:"Search","hide-details":"auto",dense:"",rounded:"",solo:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),"session"!=t.item||t.on_add?t._e():s("v-btn",{staticClass:"ml-4",attrs:{color:"success",outlined:"",icon:"","x-small":""},on:{click:function(e){t.on_add=!t.on_add}}},[s("v-icon",[t._v(" mdi-plus ")])],1),"pist"==t.item?s("div",{staticClass:"ml-4"},[s("v-file-input",{staticClass:"ma-0 pa-0 pb-1",attrs:{"hide-input":"",accept:".mp3,.wav",color:"red","hide-details":"true","background-color":"success",filled:"",dark:"",dense:"","prepend-icon":"mdi-plus"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1):t._e(),"session"==t.item?s("div",{class:"d-flex ml-3 add_session "+(t.on_add?"add":"disable")},[s("v-text-field",{attrs:{dark:"",solo:"","hide-details":"auto",dense:""},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create.apply(null,arguments)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.on_add=!1}]},model:{value:t.session_name,callback:function(e){t.session_name=e},expression:"session_name"}}),s("v-btn",{attrs:{color:"",dark:"",icon:""}},[s("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){t.on_add=!1}}},[t._v("mdi-close")])],1)],1):t._e()],1),s("div",{staticClass:"head-right pr-10 d-flex align-center"},[s("v-btn",{attrs:{small:"",icon:"",color:"white"},on:{click:function(e){return t.paginate("previous-page")}}},[s("v-icon",{attrs:{color:""}},[t._v("mdi-chevron-left")])],1),t._v(" "+t._s(t.page)+" "),s("v-btn",{attrs:{small:"",icon:"",color:"white"},on:{click:function(e){return t.paginate("next-page")}}},[s("v-icon",[t._v("mdi-chevron-right")])],1)],1)])},M=[],L=(s("ac1f"),s("841c"),{props:{add_url:{required:!1},item:{required:!0},search_url:{required:!1},theme:{required:!1}},data:function(){return{query:"",result:[],on_add:!1,session_name:"",params:{},page:0,total_page:0,file:null}},watch:{file:function(){this.create()},query:function(){this.search()}},methods:{search:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.post(this.search_url,{query:this.query}).then(function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=s.data,"session"!=e.item){t.next=10;break}if(!(i.totalItems>0)){t.next=6;break}e.$parent.sessions=i.datas,t.next=8;break;case 6:return t.next=8,e.$parent.GetSessions();case 8:t.next=17;break;case 10:if("pist"!=e.item){t.next=17;break}if(!(i.totalItems>0)){t.next=15;break}e.$parent.pists=i.datas,t.next=17;break;case 15:return t.next=17,e.$parent.get();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),create:function(){var t=this;if("session"==this.item)this.$parent.create_session(this.session_name);else if("pist"==this.item){if(null!==this.file){var e=new FormData;e.append("audio",this.file),m.post(this.add_url,e).then((function(e){var s=e.data;console.log(s),t.$parent.pists.push({id:s.id,name:s.name})})).catch((function(t){console.log(t)}))}}else console.log()},paginate:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("next-page"==e?this.page<this.total_page&&(this.page+=1):"previous-page"==e&&this.page>0&&(this.page-=1),"session"!=this.item){t.next=7;break}return t.next=4,this.$parent.get_sessions(this.page);case 4:this.total_page=t.sent,t.next=18;break;case 7:if("pist"!=this.item){t.next=13;break}return t.next=10,this.$parent.get(this.page);case 10:this.total_page=t.sent,t.next=18;break;case 13:if("creator"!=this.item){t.next=18;break}return s=this.$parent.$parent.$parent,t.next=17,s.get_artists(this.page);case 17:this.total_page=t.sent;case 18:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),q=L,B=s("2877"),A=s("6544"),F=s.n(A),N=s("8336"),z=s("23a7"),H=s("132d"),U=s("8654"),W=Object(B["a"])(q,D,M,!1,null,null,null),G=W.exports;F()(W,{VBtn:N["a"],VFileInput:z["a"],VIcon:H["a"],VTextField:U["a"]});var J={props:{mine:{required:!0}},components:{Searchbar:G},data:function(){return{pists:[]}},mounted:function(){this.get()},methods:{get:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:0,t.next=3,m.get("/api/pists?page="+e);case 3:if(s=t.sent,200!=s.status){t.next=8;break}return i=s.data.totalPages,this.pists=Object($["a"])(s.data.datas),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),update:function(){},delete_pist:function(t){var e=this;m.delete("/api/pist/"+t).then((function(){e.pists=e.pists.filter((function(e){return e.id!=t}))})).catch((function(t){console.log(t)}))}}},X=J,Y=s("1f4f"),K=Object(B["a"])(X,T,R,!1,null,null,null),Q=K.exports;F()(K,{VBtn:N["a"],VIcon:H["a"],VSimpleTable:Y["a"]});var Z={components:{Bibliotheque:Q},data:function(){return{dialog:!1,search:"",localFile:null,pists:[]}},mounted:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get_pists();case 2:case"end":return e.stop()}}),e)})))()},methods:{get_pists:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.get("/api/pists").then((function(t){var s=t.data;e.pists=Object($["a"])(s.datas)})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),Upload:function(){var t=this;if(null!==this.localFile){var e=new FormData;e.append("audio",this.localFile),e.append("sessionid",this.$store.state.current_session.id),m.post("/api/pist",e).then((function(e){var s=e.data;t.$store.commit("push_PistPlaylist",s.Import),t.$store.commit("push_Pist",s.Pist),console.log(s)})).catch((function(t){console.log(t)}))}},handle_LocalFile:function(t){this.localFile=t.target.files[0],this.Upload()},delete_Pist:function(t){var e=this;m.delete("/api/pist/"+t).then((function(){e.$store.commit("remove_PistPlaylist",t)})).catch((function(t){return console.log(t)}))},import_Microphone:function(){},import_PistInSession:function(t){var e,s=this;m.post("/api/session_track",{sessionid:this.$store.state.current_session.id,importid:t.id}).then(function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=m.defaults.baseURL+i.data.src+"?token="+s.$store.state.token,e=i.data,e.src=n,I.add_track({src:n,name:e.name,api_options:Object(l["a"])({},e)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log(t)}))}}},tt=Z,et=s("b0af"),st=s("99d9"),it=s("169a"),nt=s("8860"),at=s("da13"),rt=s("e449"),ot=Object(B["a"])(tt,w,C,!1,null,null,null),lt=ot.exports;F()(ot,{VBtn:N["a"],VCard:et["a"],VCardActions:st["a"],VCardTitle:st["c"],VDialog:it["a"],VIcon:H["a"],VList:nt["a"],VListItem:at["a"],VMenu:rt["a"],VSimpleTable:Y["a"],VTextField:U["a"]});var ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-item",{staticClass:"Slist-item"},[s("div",{staticClass:"h-100  w-100  d-flex"},[s("div",{staticClass:"Smanage-item h-100"},[s("v-btn",{staticClass:"Smanager-select h-100",attrs:{id:"select-btn-"+t.pist.api_options.id},on:{click:function(e){return t.DeselectSelect()}}},[t._v("S")])],1),s("div",{staticClass:"w-100 Smanager-content"},[s("div",{staticClass:"d-flex justifejy-space-between"},[s("div",{staticClass:"pist-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:t.nameInput_ref,staticClass:"text-white w-90",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("v-menu",{attrs:{"offset-x":"",left:"","close-on-content-click":!1,dark:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",n,!1),i),[s("v-icon",[t._v("mdi-dots-horizontal")])],1)]}}])},[s("v-card",{attrs:{elevation:"11"}},[s("v-list",{staticClass:"my-0 py-0 px-0 mx-0",attrs:{dark:""}},[s("v-list-item",{staticClass:"text-3 menu-item",on:{click:function(e){return t.$refs[t.nameInput_ref].focus()}}},[t._v(" Renomer ")]),s("v-list-item",{staticClass:"text-3 menu-",staticStyle:{display:"grid !important","max-height":"55px"},on:{click:t.ChangePistColor}},[s("div",{staticStyle:{width:"fit-content"}},[t._v(" Couleur de la pist ")]),t._v(" "),s("br"),s("div",{staticClass:"d-flex justify-space-between"},[s("v-btn",{staticClass:"mx-1",attrs:{color:"rgb(169, 99, 209)",elevation:"6",fab:"","x-small":"","max-width":"20px","max-height":"20px"},on:{click:function(e){t.ChangePistColor("rgb(169, 99, 209)")}}}),s("v-btn",{staticClass:"mx-1",attrs:{color:"rgb(99, 209, 137)",elevation:"6",fab:"","x-small":"","max-width":"20px","max-height":"20px"},on:{click:function(e){t.ChangePistColor("rgb(99, 209, 137)")}}}),s("v-btn",{staticClass:"mx-1",attrs:{color:"rgb(209, 99, 99)",elevation:"6",fab:"","x-small":"","max-width":"20px","max-height":"20px"},on:{click:function(e){t.ChangePistColor("rgb(209, 99, 99)")}}}),s("v-btn",{staticClass:"mx-1",attrs:{color:"rgb(29, 139, 236)",elevation:"6",fab:"","x-small":"","max-width":"20px","max-height":"20px"},on:{click:function(e){t.ChangePistColor("rgb(29, 139, 236)")}}})],1)]),t.pist.muted?s("v-list-item",{staticClass:"text-3 menu-item",on:{click:t.DeselectSelect}},[t._v(" Déselectionner ")]):s("v-list-item",{staticClass:"text-3 menu-item",on:{click:t.DeselectSelect}},[t._v(" Sélectionner ")]),s("v-list-item",{staticClass:"text-3 menu-item",on:{click:t.deleteImportedPist}},[t._v(" Supprimer ")])],1)],1)],1)],1),s("div",{staticClass:"w-50"},[s("VolumeController",{attrs:{track:t.pist}})],1)])])])},ut=[],dt=s("53ca"),pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex  w-100"},[s("v-slider",{attrs:{step:"0",max:"100","prepend-icon":"mdi-volume-high","hide-details":"true"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},mt=[],ft={props:{track:{required:!1}},data:function(){return{value:I.player&&!this.track?I.player.masterGain:20}},watch:{value:function(t){I.player&&!this.track?I.set_volume(t):I.player&&this.track&&I.set_track_volume(t,this.track)}},mounted:function(){this.track&&(this.value=50)}},ht=ft,vt=s("ba0d"),_t=Object(B["a"])(ht,pt,mt,!1,null,null,null),gt=_t.exports;F()(_t,{VSlider:vt["a"]});var bt={components:{VolumeController:gt},props:{pist:{required:!0}},data:function(){return{name:this.pist.name,nameInput_ref:"pistnameinput"+this.id,volume:this.pist.gain,player:I}},watch:{volume:function(t){}},mounted:function(){this.selectBtn=document.getElementById("select-btn-"+this.pist.api_options.id),this.pist.muted?this.selectBtn.style.backgroundColor="green":this.selectBtn.style.backgroundColor="gray"},methods:{deleteImportedPist:function(){var t=this,e="/api/session_track/".concat(this.pist.api_options.id);m.delete(e).then(Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.commit("remove_Pist",t.pist.api_options.id),t.pist.ee.emit("removeTrack",t.pist);case 2:case"end":return e.stop()}}),e)})))).catch((function(t){return console.log(t)}))},DeselectSelect:function(){console.log(this.track),document.getElementById("select-btn-"+this.pist.id),0==this.muted?this.selectBtn.style.backgroundColor="green":this.selectBtn.style.backgroundColor="gray"},ChangePistColor:function(t){var e=document.getElementById("pist-"+this.pist.api_options.id);e.style.backgroundColor=t,"object"!==Object(dt["a"])(t)&&this.$store.commit("update_Pist",{pistid:this.pist.api_options.id,field:"color",value:t})},RenamePist:function(){}}},kt=bt,xt=Object(B["a"])(kt,ct,ut,!1,null,null,null),yt=xt.exports;F()(xt,{VBtn:N["a"],VCard:et["a"],VIcon:H["a"],VList:nt["a"],VListItem:at["a"],VMenu:rt["a"]});var wt={name:"sidebar",components:{Menu:lt,SidebarPistManager:yt},data:function(){return{open:!0,mini:!0,player:I.player,tracks:I.player.tracks}}},Ct=wt,$t=s("5d23"),St=s("f774"),Vt=Object(B["a"])(Ct,x,y,!1,null,null,null),jt=Vt.exports;F()(Vt,{VBtn:N["a"],VCard:et["a"],VIcon:H["a"],VListItem:at["a"],VListItemTitle:$t["b"],VNavigationDrawer:St["a"]});var Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"no-radius audios-controller dark-1",staticStyle:{"border-bottom":"1.5px solid #63D189"},attrs:{dark:"",color:"1A1D21"}},[s("div",{staticClass:" ",staticStyle:{"min-width":"270px"}},[s("a",{staticClass:"custom-link mx-1",attrs:{href:"/profile"}},[t._v(" Dashboard")]),s("v-menu",{attrs:{dark:"","offset-y":"","close-on-content-click":!1,"min-width":"120px",width:"180px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[s("a",t._g(t._b({staticClass:"custom-link mx-1",attrs:{href:"#"}},"a",n,!1),i),[t._v(" Fichier ")])]}}])},[s("v-list",{staticClass:"app-menu py-0",attrs:{elevation:"10"}},[s("v-list-item",{staticClass:"d-flex justify-center text-3 menu-item"},[t._v("Enregistrer")]),s("v-list-item",{staticClass:"d-flex justify-center text-3 menu-item",on:{click:t.download}},[t._v("Télécharger")])],1)],1),s("Menu")],1),s("div",{staticClass:"d-flex",attrs:{id:"barManager-audiosController"}},[s("div",{staticClass:"d-flex align-top pa-2 mr-9",attrs:{id:"bar-manager-btns"}},[t.in_record?s("v-btn",{staticClass:"border-left",attrs:{color:"#D81616"},on:{click:t.stop_Record}},[s("v-icon",[t._v("mdi-stop-circle-outline")])],1):s("v-btn",{staticClass:"border-left",attrs:{color:"#D81616",icon:""},on:{click:t.start_Record}},[s("v-icon",[t._v("mdi-record-circle-outline")])],1),s("v-btn",{staticClass:"border-center",attrs:{color:"#D81616",icon:""}},[s("v-icon",[t._v("mdi-skip-previous")])],1),t.in_play?s("v-btn",{staticClass:"border-center",attrs:{color:"dark",id:"pause-button",icon:""},on:{click:t.handle_Pause}},[s("v-icon",{attrs:{color:"#F24E1E",c:""}},[t._v("mdi-pause-circle-outline")])],1):s("v-btn",{staticClass:"border-center",attrs:{color:"#63D189",icon:"",id:"play-button"},on:{click:t.handlePlay}},[s("v-icon",[t._v("mdi-play-circle-outline")])],1),s("v-btn",{staticClass:"border-right",attrs:{color:"#D81616",icon:""}},[s("v-icon",[t._v("mdi-skip-next")])],1)],1),s("div",{staticClass:"d-flex align-center w-50"},[s("div",{staticClass:"timer"},[t._v(" "+t._s(null!=t.player.duration?t.player.duration:"00:00")+" ")]),s("VolumeController",{attrs:{type:"g_volume"}}),s("v-btn",{class:(t.player.track_on_move?"active":"nocative")+" square-btn",attrs:{small:"",elevation:"10",icon:"",dark:"",color:"white"},on:{click:t.track_move}},[s("v-icon",[t._v("mdi-arrow-left-right")])],1)],1)])])},Ot=[],Pt={components:{VolumeController:gt,Menu:lt},data:function(){return{player:I,play:!1,in_record:!1,in_play:!1,responsive:{g_volumeWidth:"200px"},file_menu:!1}},methods:{handlePlay:function(){this.in_play=!0,I.play()},handle_Pause:function(){this.in_play=!1,I.pause()},mute_unmute:function(){},start_Record:function(){},stop_Record:function(){},track_move:function(){"shift"==I.player.state?I.set_state("select"):I.set_state("shift")},download:function(){I.download()}}},It=Pt,Tt=Object(B["a"])(It,Et,Ot,!1,null,null,null),Rt=Tt.exports;F()(Tt,{VBtn:N["a"],VCard:et["a"],VIcon:H["a"],VList:nt["a"],VListItem:at["a"],VMenu:rt["a"]});var Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"100%",height:"100%"}},[s("v-card",{staticStyle:{width:"100%"},attrs:{color:"#1A1D21",ripple:!1,id:"pists-container"},on:{contextmenu:t.show,click:t.on_track}}),s("v-menu",{attrs:{dark:"","position-x":t.x,"position-y":t.y,absolute:"","offset-y":"","z-index":"100"},model:{value:t.show_menu,callback:function(e){t.show_menu=e},expression:"show_menu"}},[s("v-list",{staticClass:"pa-0"},[s("v-list-item",{attrs:{link:""},on:{click:t.move_track}},[t.track_on_move?s("v-list-item-title",[t._v("Fin déplacement")]):s("v-list-item-title",[t._v("Track déplacement")])],1),s("v-list-item",{attrs:{link:""},on:{click:t.track_select}},[s("v-list-item-title",[t._v("Track séléction")])],1),s("v-list-item",{on:{click:t.get_pixeltime}},[s("v-list-item-title",[t._v("Get bar position pixel and time")])],1)],1)],1)],1)},Mt=[],Lt={data:function(){return{text:this.$store.state.current_session.text,Timeline:0,playlist:null,play:null,pause:null,show_menu:!1,x:0,y:0,items:[{title:"Click Me"},{title:"Click Me"},{title:"Click Me"},{title:"Click Me 2"}],ontrack:null,track_on_move:!0}},mounted:function(){this.track_on_move=I.track_on_move},methods:{update_text:function(){},action_Play:function(){this.playlist.ee.emit("play")},action_Pause:function(){this.playlist.ee.emit("pause")},show:function(t){var e=this;t.preventDefault(),this.show_menu=!1,this.x=t.clientX,this.y=t.clientY,this.$nextTick((function(){e.show_menu=!0}))},on_track:function(t){document.querySelectorAll(".channel.channel-0").forEach((function(t){t.classList.contains("selected")&&t.classList.remove("selected")}));var e=t.explicitOriginalTarget.parentElement.parentElement,s=t.explicitOriginalTarget.parentElement.childNodes[1];s.classList.add("selected");var i=I.get_track(e.classList[2]);this.ontrack=i[0]?i[0]:null},move_track:function(){I.track_on_move?I.set_state("select"):I.set_state("shift"),this.track_on_move=I.track_on_move},track_select:function(){var t=document.getElementsByClassName("track-container");for(var e in I.on_selection?I.set_state("cursor"):I.set_state("select"),t)console.log(e)},get_pixeltime:function(){console.log(I.player)}}},qt=Lt,Bt=Object(B["a"])(qt,Dt,Mt,!1,null,null,null),At=Bt.exports;F()(Bt,{VCard:et["a"],VList:nt["a"],VListItem:at["a"],VListItemTitle:$t["b"],VMenu:rt["a"]});var Ft={components:{Sidebar:jt,BarManager:Rt,PistContainer:At},data:function(){return{imported_pists:null,track_loaded:!1,audio_output:[]}},mounted:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices&&!navigator.mediaDevices.enumerateDevices){e.next=5;break}return e.next=3,navigator.mediaDevices.enumerateDevices();case 3:s=e.sent,t.audio_output=s;case 5:t.init_session();case 6:case"end":return e.stop()}}),e)})))()},methods:{init_session:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$store.state.current_session){t.next=7;break}return t.next=3,this.load_imported_pist();case 3:return t.next=5,I.init_player();case 5:t.next=8;break;case 7:this.$router.push("profile");case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),load_imported_pist:function(){var t=this;m.get("/api/session_track/"+this.$store.state.current_session.id).then((function(e){var s=e.data;t.imported_pists=s;var i=t.format_pists();I.load_tracks(i).then((function(){t.track_loaded=!0,t.handle_time()}))})).catch((function(t){console.log(t)}))},format_pists:function(){var t=this,e=[];return this.imported_pists.forEach((function(s){var i={api_options:{id:s.id,Importid:s.ImportId,pistColor:s.color,muted:s.muted},src:"http://localhost:3000/api/pist/"+s.importid+"?token="+t.$store.state.token,name:s.Import.name,gain:s.gain,customClass:"track-container."+s.id,states:{select:!0,cursor:!1}};e.push(i)})),e},save:function(){var t=[];this.$store.state.current_session.SessionTracks.forEach((function(e){t.push({id:e.id,muted:e.muted,color:e.color,gain:e.gain,name:e.name})}));var e={id:this.$store.state.current_session.id,name:this.$store.state.current_session.session_name,text:this.$store.state.current_session.text,tracks:t};console.log(e)},handle_time:function(){var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.zIndex=100;var e=document.getElementsByClassName("playlist-time-scale");console.log(I.player.cursor),console.log(e),e[0].appendChild(t)}}},Nt=Ft,zt=s("8dd9"),Ht=s("3129"),Ut=Object(B["a"])(Nt,g,b,!1,null,null,null),Wt=Ut.exports;F()(Ut,{VBtn:N["a"],VSheet:zt["a"],VSkeletonLoader:Ht["a"]});var Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-center w-100 justify-center",staticStyle:{height:"100% !important"}},[s("section",{attrs:{id:"animated_background","z-index":"10"}}),t.on_login?s("div",[s("Login",{on:{switchCard:t.switchCard}})],1):t._e(),t.on_register?s("div",[s("Register",{on:{switchCard:t.switchCard}})],1):t._e()])},Jt=[],Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",[s("v-card",{attrs:{elevation:"13",outlined:"","max-width":"450px","min-width":"340px",id:"auth-card"}},[s("v-card-title",{staticClass:"text-center d-flex justify-center bg-dark text-white",attrs:{"primary-title":""}},[t._v(" Connexion ")]),s("v-container",{staticClass:"pa-8",attrs:{fluid:""}},[s("v-text-field",{attrs:{rules:t.email_rule,label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{type:"password",label:"Mot de passe"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("a",{staticClass:"pa-0 ma-0",on:{click:t.forgot_password}},[t._v("mot de passe oublié ?")])],1),s("v-card-actions",{staticClass:"d-flex justify-space-around"},[s("v-btn",{staticClass:"text-orange pa-5",staticStyle:{width:"130px"},attrs:{color:"#282828",small:""},on:{click:function(e){return t.$emit("switchCard","register")}}},[t._v("S'enregistrer")]),s("v-btn",{staticClass:"text-green pa-5",staticStyle:{width:"130px"},attrs:{color:"#282828",small:""},on:{click:t.login}},[t._v("Connexion")])],1)],1),s("MailNotif")],1)},Yt=[],Kt=(s("00b4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("v-overlay",{attrs:{value:t.overlay,"z-index":"15",color:"black"}},[s("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],attrs:{width:"400",height:"auto"}},[s("v-card-title",{attrs:{"primary-title":""}},[t._v(" "+t._s(t.title)+" ")]),"reset_password"==t.type?s("v-card-text",{staticClass:"px-8 py-0 my-0"},[t._v(" Entrer un nouveaux mot de passe: "),s("div",{staticClass:"my-2"},[s("v-text-field",{staticClass:"py-0 my-0",attrs:{dense:"",light:"",solo:"",label:"Mot de passe",placeholder:"Mot de passe"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reset_password.apply(null,arguments)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-text-field",{staticClass:"py-0 my-0",attrs:{dense:"",light:"",solo:"",label:"Confirmer le mot de passe",placeholder:"Confirmer le mot de passe"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reset_password.apply(null,arguments)}},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1)]):t._e(),s("v-card-actions",{staticClass:"px-8"},[s("v-btn",{staticClass:"py-0 my-0",attrs:{color:"success",small:"",outlined:"",block:""},on:{click:t.reset_password}},[t._v("Suivant")])],1)],1)],1)],1)}),Qt=[],Zt=(s("3ca3"),s("ddb0"),s("9861"),{data:function(){return{overlay:!1,title:"",type:"",password:"",password_confirmation:"",token:""}},mounted:function(){this.check_url_notif()},methods:{check_url_notif:function(){this.$route.query.mail_service&&(this.overlay=!0,this.type=this.$route.query.type,"reset_password"==this.$route.query.type&&(this.title="Mot de passe oublié",this.token=this.$route.query.mail_service))},delete_notif_url:function(){var t=new URLSearchParams(window.location.search);t.delete("mail_service"),t.delete("type")},close:function(){this.delete_notif_url(),this.overlay=!this.overlay},reset_password:function(){var t=this;m.patch("/api/user/reset-password",{_token_:this.token,password:this.password,password_confirmation:this.password_confirmation}).then((function(e){var s=e.data;console.log(s),t.$store.commit("push_alert",{type:"success",message:s.infos}),t.overlay=!1})).catch((function(t){console.log(t)}))}}}),te=Zt,ee=s("a797"),se=s("269a"),ie=s.n(se),ne=s("a293"),ae=Object(B["a"])(te,Kt,Qt,!1,null,null,null),re=ae.exports;F()(ae,{VBtn:N["a"],VCard:et["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VOverlay:ee["a"],VTextField:U["a"]}),ie()(ae,{ClickOutside:ne["a"]});var oe={components:{MailNotif:re},data:function(){return{email:"",password:"",dialog:!1,email_rule:[function(t){return!t||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"l'email dois être valide"}]}},methods:{login:function(){var t=this;m.post("/api/auth",{email:this.email,password:this.password}).then((function(e){var s=e.data;t.$store.commit("set_Token",s.token),t.$store.commit("set_User",s.user),window.location.href="/profile"})).catch((function(e){var s;t.$store.commit("push_alert",{open:!0,message:null!==(s=e.response.data.errors)&&void 0!==s?s:e.response.data.error,type:"warning"})}))},forgot_password:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.email.length&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(this.email)){t.next=2;break}return t.abrupt("return",this.$store.commit("push_alert",{type:"warning",message:"Veuillez saisir un email valide"}));case 2:return t.next=4,m.post("/api/mail/password-reset",{email:this.email}).catch((function(t){return console.log(t)}));case 4:e=t.sent,200==e.status&&this.$store.commit("push_alert",{type:"success",message:"Un mail vous à été envoyé."});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},le=oe,ce=s("a523"),ue=Object(B["a"])(le,Xt,Yt,!1,null,null,null),de=ue.exports;F()(ue,{VBtn:N["a"],VCard:et["a"],VCardActions:st["a"],VCardTitle:st["c"],VContainer:ce["a"],VTextField:U["a"]});var pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{ref:"form",attrs:{elevation:"13",outlined:"","max-width":"450px","min-width":"340px",id:"auth-card"}},[s("v-card-title",{staticClass:"text-center d-flex justify-center bg-dark text-white",attrs:{"primary-title":""}},[t._v(" Enregistrement ")]),s("v-container",{staticClass:"pa-8",attrs:{fluid:""}},[s("v-text-field",{ref:"email",attrs:{required:"",rules:t.email_rule,label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{ref:"name",attrs:{required:"",rules:[function(){return!!t.name||"Ce champs est requis"}],label:"Nom prénom"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("v-text-field",{ref:"pseudo",attrs:{required:"",rules:[function(){return!!t.pseudo||"Ce champs est requis"}],label:"Pseudo"},model:{value:t.pseudo,callback:function(e){t.pseudo=e},expression:"pseudo"}}),s("v-text-field",{ref:"phone",attrs:{label:"Téléphone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("v-text-field",{ref:"password",attrs:{required:"",rules:[function(){return!!t.password||"Ce champs est requis"}],type:"password",label:"Mot de passe"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("v-card-actions",{staticClass:"d-flex justify-space-around"},[s("v-btn",{staticClass:"text-green pa-5",staticStyle:{width:"130px"},attrs:{color:"#282828",small:""},on:{click:function(e){return t.$emit("switchCard","login")}}},[t._v("Connexion")]),s("v-btn",{staticClass:"text-orange pa-5",staticStyle:{width:"130px"},attrs:{color:"#282828",small:""},on:{click:t.checkForm}},[t._v("S'enregistrer")])],1)],1)},me=[],fe={data:function(){return{email:"",name:"",password:"",phone:"",pseudo:"",email_rule:[function(t){return!t||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"l'email dois être valide"}],formHasErrors:!1}},computed:{form:function(){return{pseudo:this.pseudo,email:this.email,name:this.name,password:this.password}}},methods:{checkForm:function(){var t=this;this.formHasErrors=!1,Object.keys(this.form).forEach((function(e){t.form[e]||(t.formHasErrors=!0),t.$refs[e].validate(!0)})),console.log(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(this.email)),this.formHasErrors||(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(this.email)?this.register():this.$store.commit("push_alert",{type:"warning",open:!0,message:"Email incorrecte"}))},register:function(){var t=this;m.patch("/api/auth",{email:this.email,name:this.name,password:this.password,phone:this.phone,pseudo:this.pseudo}).then((function(e){var s=e.data;t.$store.commit("set_User",s.user),t.$store.commit("set_Token",s.token),window.location.href="/profile    "})).catch((function(e){var s;t.$store.commit("push_alert",{type:"warning",message:null!==(s=e.response.data.errors)&&void 0!==s?s:e.response.data.error})}))}}},he=fe,ve=Object(B["a"])(he,pe,me,!1,null,null,null),_e=ve.exports;F()(ve,{VBtn:N["a"],VCard:et["a"],VCardActions:st["a"],VCardTitle:st["c"],VContainer:ce["a"],VTextField:U["a"]});var ge={components:{Login:de,Register:_e},data:function(){return{on_login:!0,on_register:!1}},methods:{switchCard:function(t){"login"==t?(this.on_register=!1,this.on_login=!0):(this.on_login=!1,this.on_register=!0)}}},be=ge,ke=Object(B["a"])(be,Gt,Jt,!1,null,null,null),xe=ke.exports,ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"px-0 mx-0 w-100 mb-5 pb-1 ",attrs:{tile:"",color:t.banner_color,"min-height":"250px",height:"250px"}},[t.banner_img?s("div",{staticClass:"banner-img"},[s("div",{staticClass:"banner-img-filter"}),s("v-img",{attrs:{src:t.banner_img}})],1):t._e(),s("v-overlay",{staticClass:"w-100",staticStyle:{"z-index":"15"},attrs:{value:t.overlay,color:"#000"}},[s("div",{staticClass:"w-50 p-absolute"},[s("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.update_banner,expression:"update_banner"}],staticClass:"container",attrs:{elevation:"11",width:"500px",height:"600px"}},[s("div",{staticClass:"fs-2 text-center my-4"},[t._v("Couleur de fond")]),s("v-color-picker",{staticClass:"mx-auto",attrs:{"dot-size":"13","hide-mode-switch":"",mode:"hexa","swatches-max-height":"189"},model:{value:t.banner_color,callback:function(e){t.banner_color=e},expression:"banner_color"}}),s("label",{staticClass:"profile-banner-import-img",attrs:{for:"banner-img-input"}},[s("div",{staticClass:"choose-banner-img-filter"}),null!=t.banner_img?s("v-img",{staticStyle:{"border-radius":"15px"},attrs:{src:t.banner_img}}):t._e(),s("div",{staticClass:"ml-4 d-flex",staticStyle:{position:"absolute","z-index":"11"}},[s("v-file-input",{attrs:{"hide-input":"",accept:".png,.jpg",id:"banner-img-input",filled:"",dark:"",dense:"","prepend-icon":"mdi-progress-download"},model:{value:t.picture_file,callback:function(e){t.picture_file=e},expression:"picture_file"}}),s("v-btn",{staticClass:"mt-1",attrs:{icon:"",color:"red"},on:{click:t.remove_banner_img}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("v-btn",{staticClass:"mt-2",attrs:{small:"",elevation:"",block:"",color:"success",plain:""},on:{click:function(e){return t.update_banner("save_banner")}}},[t._v("Sauvegarder")])],1)],1)]),s("div",{staticClass:"banner-right-top"},[t.on_update?s("v-btn",{staticClass:"pt-2 mx-1",attrs:{small:"",icon:"",color:"#63D189"},on:{click:function(e){return t.update_banner("open_banner_setting")}}},[s("v-icon",[t._v("mdi-palette")])],1):t._e(),!t.on_update&&t.my_profile?s("v-btn",{staticClass:"mx-1",attrs:{color:"warning",small:"",icon:""},on:{click:t.update_profile}},[s("v-icon",[t._v("mdi-tune-vertical")])],1):t._e(),t.on_update&&t.my_profile?s("v-btn",{staticClass:"mx-1",attrs:{small:"",icon:"",color:"white"},on:{click:t.update_profile}},[s("v-icon",{attrs:{color:""}},[t._v("mdi-check-underline")])],1):t._e(),s("v-btn",{staticClass:"text-white px-4 mr-2 py-2 mx-1",attrs:{color:"red","x-small":""},on:{click:function(e){return t.$store.commit("logout")}}},[t._v("Déconnexion")]),t.on_update?s("div",{staticClass:"text-white d-flex justify-end pa-4 pr-0"},[s("div",{staticClass:"d-flex justify-end",staticStyle:{width:"fit-content"}},[t._v(" public: "),s("v-switch",{staticClass:"ma-0 pa-0 mt-1 ml-2",attrs:{"hide-details":"true","x-small":"",dense:"",color:"white"},model:{value:t.public_profile,callback:function(e){t.public_profile=e},expression:"public_profile"}})],1)]):t._e()],1),s("div",{class:"w-80 d-flex user-infos-container "+(t.$store.state.WIDTH<=600?"pa-2":"container"),staticStyle:{height:"80%"}},[s("div",{staticClass:"profile-image-container"},[s("v-img",{staticStyle:{"border-radius":"15px",transition:"all 1s"},attrs:{src:t.user_img,width:+t.$store.state.WIDTH<=600?100:180}},[t.on_update?s("div",{staticClass:"p-img-icon-upload"},[s("v-file-input",{attrs:{"hide-input":"",accept:".png,.jpg",filled:"",dark:"",dense:"","prepend-icon":"mdi-progress-download","meta-picture-profile":"user_picture"},model:{value:t.picture_file,callback:function(e){t.picture_file=e},expression:"picture_file"}})],1):t._e()])],1),s("div",{class:"account-details pt-3 pl-5"+(t.show_details?" show":" dshow")},[s("div",{staticClass:"d-flex h-fit justify-space-between"},[t.on_update?s("v-btn",{attrs:{color:"success",icon:"","x-small":""},on:{click:function(e){return t.update_fields("name",!0)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-eye")])],1):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"custom-profile-input",attrs:{disabled:!t.on_update,type:"text",placeholder:"Prénom Nom"},domProps:{value:t.name},on:{keypress:function(e){return t.update_fields("name")},input:function(e){e.target.composing||(t.name=e.target.value)}}})],1),s("div",{staticClass:"d-flex h-fit justify-space-between"},[t.on_update?s("v-btn",{attrs:{color:"success",icon:"","x-small":""},on:{click:function(e){return t.update_fields("pseudo",!0)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-eye")])],1):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pseudo,expression:"pseudo"}],staticClass:"custom-profile-input",attrs:{disabled:!t.on_update,type:"text",placeholder:"Pseudo"},domProps:{value:t.pseudo},on:{keypress:function(e){return t.update_fields("pseudo")},input:function(e){e.target.composing||(t.pseudo=e.target.value)}}})],1),s("div",{staticClass:"d-flex h-fit justify-space-between"},[t.on_update?s("v-btn",{attrs:{color:"success","x-small":"",icon:""},on:{click:function(e){return t.update_fields("email",!0)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-eye")])],1):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"custom-profile-input",attrs:{disabled:!t.on_update,type:"text",placeholder:"Email"},domProps:{value:t.email},on:{keypress:function(e){return t.update_fields("email")},input:function(e){e.target.composing||(t.email=e.target.value)}}})],1),s("div",{class:t.on_update?"pl-5":""},[t.on_update?s("input",{directives:[{name:"model",rawName:"v-model",value:t.facebook_link,expression:"facebook_link"}],staticClass:"custom-profile-input",attrs:{disabled:!t.on_update,type:"text",placeholder:"Lien Facebook"},domProps:{value:t.facebook_link},on:{keypress:function(e){return t.update_fields("facebook_link")},input:function(e){e.target.composing||(t.facebook_link=e.target.value)}}}):t._e(),t.on_update?s("input",{directives:[{name:"model",rawName:"v-model",value:t.instagram_link,expression:"instagram_link"}],staticClass:"custom-profile-input",attrs:{disabled:!t.on_update,type:"text",placeholder:"Lien Instagrame"},domProps:{value:t.instagram_link},on:{keypress:function(e){return t.update_fields("instagram_link")},input:function(e){e.target.composing||(t.instagram_link=e.target.value)}}}):t._e()])])]),s("div",{staticClass:"w-80 d-flex container justify-space-between user-bar-bottom align-center banner-footer"},[s("div",{staticClass:"d-flex align-center",attrs:{id:"profile-creations-count"}},[s("v-icon",{attrs:{color:"white"}},[t._v("mdi-creation")]),t._v("0")],1),s("div",{staticClass:"d-flex align-center",attrs:{id:"profile-user-namelastname"}},[s("input",{staticClass:"text-center",attrs:{type:"text",disabled:!0},domProps:{value:t.name}})]),s("div",{staticClass:"d-flex align-center",attrs:{id:"profile-likes-count"}},[t._v(t._s(t.likes)+" "),s("v-icon",{attrs:{color:1==t.liked?"red":"white"},on:{click:t.like_profile}},[t._v("mdi-cards-heart")])],1)])],1),s("div",{staticClass:"container w-80 profile-bottom-section "},[s("div",{class:"d-flex mb-4 profile-label-pages "+(t.$store.state.WIDTH<625?"mobile":"lgscreen")},[t.my_profile?s("v-btn",{staticClass:"mx-2",attrs:{color:"success",outlined:"",rounded:"","x-small":""},on:{click:function(e){t.page="session"}}},[t._v("Session")]):s("v-btn",{staticClass:"mx-2",attrs:{color:"success",outlined:"",rounded:"","x-small":""},on:{click:function(e){t.page="session"}}},[t._v("Creation")]),s("v-btn",{staticClass:"mx-2",attrs:{color:"success",outlined:"",rounded:"","x-small":""},on:{click:function(e){t.page="bibliotheque"}}},[t._v("Bibliothèque")])],1),t.my_profile&&"session"==t.page?s("div",[s("SessionLists")],1):t._e(),"bibliotheque"==t.page?s("div",[s("Bibliotheque",{attrs:{mine:!!t.my_profile}})],1):t._e()]),s("MailNotif")],1)},we=[],Ce=(s("5319"),s("025e")),$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Searchbar",{attrs:{add_url:"/api/session",item:"session",search_url:"/api/search/sessions"}}),s("div",{staticClass:"container"},[s("v-simple-table",[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Session")]),s("th",{staticClass:"text-center"},[t._v("pistes importé")]),s("th",{staticClass:"text-center"},[t._v("mixage")]),s("th",{staticClass:"text-right"},[t._v("action")])])]),s("tbody",t._l(t.sessions,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.session_name))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.importedIn))]),s("td",{staticClass:"text-center"},[s("a",{attrs:{href:"http://#"}},[t._v("mix/DL")])]),s("td",{staticClass:"text-right"},[s("v-btn",{attrs:{color:"success",outlined:"","x-small":""},on:{click:function(s){return t.open_session(e.id)}}},[t._v("ouvrir")]),s("v-btn",{attrs:{"x-small":"",icon:"",color:"red"},on:{click:function(s){return t.delete_session(e.id)}}},[s("v-icon",[t._v("mdi-close")])],1)],1)])})),0)])],1)],1)},Se=[],Ve={components:{Searchbar:G},data:function(){return{sessions:[],on_add:!1,session_name:"",delete_press:{sessionid:null,press:0}}},mounted:function(){this.get_sessions()},methods:{get_sessions:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:0,t.next=3,m.get("/api/sessions?page="+e);case 3:if(s=t.sent,200!=s.status){t.next=10;break}return i=s.data.totalPages,this.sessions=s.data.datas,t.abrupt("return",i);case 10:console.log(s);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),open_session:function(t){var e=this;m.get("/api/session/"+t).then((function(t){var s=t.data;e.$store.commit("set_CurrentSession",s.session),e.$router.push("/session")})).catch((function(t){return console.log(t)}))},delete_session:function(t){var e=this;null==this.delete_press.sessionid?(this.delete_press.sessionid=t,this.delete_press.press=1,this.$store.commit("push_alert",{message:"Confirmer la supression en reclickant",type:"warning"})):this.delete_press.sessionid==t?m.delete("/api/session/"+t).then((function(s){s.data;e.sessions=e.sessions.filter((function(e){return e.id!=t})),e.delete_press={sessionid:null,press:0}})).catch((function(t){return console.log(t)})):this.delete_press={sessionid:null,press:0}},create_session:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.session_name=this.session_name?this.session_name.replace(/[ ]+/g,""):e.replace(/[ ]+/g,""),this.session_name?m.post("/api/session/",{name:this.session_name}).then((function(e){var s=e.data;console.log(s),t.sessions.push(s),t.on_add=!1,t.$store.commit("append_Session",s)})).catch((function(t){console.log(t)})):this.$store.commit("push_alert",{message:"Veuillez remplir le champs nom pour créer une session",type:"warning",open:!0})}}},je=Ve,Ee=Object(B["a"])(je,$e,Se,!1,null,null,null),Oe=Ee.exports;F()(Ee,{VBtn:N["a"],VIcon:H["a"],VSimpleTable:Y["a"]});var Pe={components:{SessionLists:Oe,Bibliotheque:Q,MailNotif:re},data:function(){return{on_update:!1,show_details:!0,my_profile:!0,page:"session",overlay:!1,mail_notif:!1,user_img:m.defaults.baseURL+"/api/picture?userid=",name:"",pseudo:"",email:"",phone:"",facebook_link:"",instagram_link:"",likes:0,liked:!1,public_profile:!1,picture_file:null,banner_color:"#252525",banner_img:null,fields:[],settings_fields:[]}},watch:{public_profile:function(){this.update_fields("public")},picture_file:function(){var t=this;if(this.overlay){var e=new FileReader;e.addEventListener("load",(function(){return t.banner_img=e.result})),e.readAsDataURL(this.picture_file)}else this.update_picture()}},mounted:function(){this.$route.query&&this.$route.query.userid?(this.my_profile=!1,this.user_profile()):(this.my_profile=!0,this.user_img+=this.$store.state.user.id,this.me(),this.my_settings())},methods:{details:function(){this.show_details=!this.show_details},me:function(){var t=this;m.get("/api/user").then((function(e){var s,i,n,a=e.data;t.name=a.name,t.pseudo=null!==(s=a.pseudo)&&void 0!==s?s:"",t.email=a.email,t.facebook_link=null!==(i=a.facebook_link)&&void 0!==i?i:"",t.instagram_link=null!==(n=a.instagram_link)&&void 0!==n?n:"",t.public_profile=a.public,t.$store.commit("set_User",a)})).catch((function(){t.$store.commit("push_alert",{type:"danger",message:"Un problème est survenue !"})}))},my_settings:function(){var t=this;m.get("/api/profile-settings").then((function(e){var s=e.data,i=Object(Ce["Array2Object"])(s,"setting_name","setting_value");i["banner-img"]&&(i["banner-img"]=m.defaults.baseURL+"/api/profile/banner?userid="+t.$store.state.user.id),t.banner_img=i["banner-img"],t.$store.commit("push_profile_settings",i),i["banner-color"]&&(t.banner_color=i["banner-color"]),i["likes"]&&(t.likes=i.likes)})).catch((function(t){return console.log(t)}))},user_profile:function(){var t,e,s=this,i=null!==(t=this.$route.query.userid)&&void 0!==t?t:null;i&&m.get(null!==(e="/api/profile?&userid="+i+"&token="+this.$store.state.token)&&void 0!==e?e:null).then((function(t){var e=t.data;if(e.creator)for(var i in e.creator)"undefined"!=s[i]&&(s[i]=e.creator[i]);if(e.settings){var n=Object(Ce["Array2Object"])(e.settings,"setting_name","setting_value");for(var a in n)null!=a&&"undefined"!=s[a.replace("-","_")]&&(s[a.replace("-","_")]=n[a])}console.log(e.like),e.like&&(s.liked=!0)})).catch((function(t){return console.log(t)}))},like_profile:function(){var t=this;m.post("/api/like",{model:"creator",modelid:this.id}).then((function(e){var s=e.data;s.destroyed_like?(t.liked=!1,t.likes--):(t.liked=!0,t.likes++)})).catch((function(t){console.log(t)}))},update_profile:function(){var t=this;if(0==this.on_update)this.on_update=!0;else{if(this.fields.length>0){var e={};this.fields.forEach((function(s){e[s]="public"==s?t.public_profile:t[s]})),m.patch("/api/user",e).then((function(){t.$store.commit("push_alert",{type:"success",message:"Profile mis à jour"})})).catch((function(t){console.log(t)}))}this.settings_fields.length>0&&this.settings_fields.includes("banner")&&console.log("update banner"),this.on_update=!1}},update_fields:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.fields.includes(t)||e?e&&!this.settings_fields.includes(t)&&this.settings_fields.push(t):this.fields.push(t)},update_picture:function(){var t=new FormData;t.append("profile_picture",this.picture_file),m.post("/api/picture",t).then((function(){})).catch((function(t){console.log(t)}))},update_banner:function(t){if("object"==Object(dt["a"])(t))this.overlay=!1;else if("open_banner_setting"==t)this.overlay=!0;else if("save_banner"==t){if(this.picture_file){var e=new FormData;e.append("banner-img",this.picture_file),m.post("/api/profile-setting/banner-upload",e).then((function(t){var e=t.data;console.log(e)})).catch((function(t){console.log(t)}))}this.$store.state.profile_settings["banner-color"]&&this.$store.state.profile_settings["banner-color"]!=this.banner_color&&(this.$store.commit("push_profile_settings",{"banner-color":this.banner_color}),m.patch("/api/profile-setting",{setting_name:"banner-color",value:this.banner_color}).then((function(t){var e=t.data;console.log(e)})).catch((function(t){console.log(t)}))),this.overlay=!1}},remove_banner_img:function(){this.banner_img=null,this.$store.commit("push_profile_settings",{"banner-img":null}),m.delete("/api/profile-setting/banner-img").catch((function(t){console.log(t)}))}}},Ie=Pe,Te=s("03a4"),Re=s("adda"),De=s("b73d"),Me=Object(B["a"])(Ie,ye,we,!1,null,null,null),Le=Me.exports;F()(Me,{VBtn:N["a"],VCard:et["a"],VColorPicker:Te["a"],VFileInput:z["a"],VIcon:H["a"],VImg:Re["a"],VOverlay:ee["a"],VSwitch:De["a"]}),ie()(Me,{ClickOutside:ne["a"]});var qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex h-100 ma-0 pa-0"},[t.$store.state.WIDTH>600||t.$store.state.WIDTH<600&&"artists"==t.page?s("div",{class:"py-0 "+(t.$store.state.WIDTH<600?"w-100":"w-40"),staticStyle:{"flex-wrap":"wrap"}},[s("artists",{staticClass:"bg-red"})],1):t._e(),t.$store.state.WIDTH>600||t.$store.state.WIDTH<600&&"songs"==t.page?s("div",{class:t.$store.state.WIDTH<600?"w-100":"w-60"}):t._e(),t.$store.state.WIDTH<600?s("div",{staticClass:"d-flex justify-space-around",attrs:{id:"discover-mobile-bottom-navigation"}},[s("v-btn",{staticClass:"mx-2",attrs:{color:"success",outlined:"",rounded:"","x-small":""},on:{click:function(e){t.page="artists"}}},[t._v("Artists")]),s("v-btn",{staticClass:"mx-2",attrs:{color:"success",outlined:"",rounded:"","x-small":""},on:{click:function(e){t.page="songs"}}},[t._v("Songs")])],1):t._e()])},Be=[],Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"discover-songs-artist h-100 "},[s("div",{staticClass:"search-navigation w-100 py-5"},[s("div",{staticClass:"d-flex justify-space-between",attrs:{id:"discover-artist-search"}},[s("h3",{staticClass:"w-30 text-center text-white",staticStyle:{"align-self":"center"}},[t._v("ARTIST")]),s("Searchbar",{staticClass:"w-70",attrs:{item:"creator",theme:"ligth"}})],1),s("div",{staticClass:"d-flex justify-center",attrs:{id:"discover-artist-categorie"}})]),s("v-list",{staticClass:"artist-container-list h-auto mt-6",staticStyle:{"border-radius":"0 !important"},attrs:{dark:"",dense:"",rounded:""}},[s("v-list-item-group",{attrs:{color:"white"},model:{value:t.art_selected,callback:function(e){t.art_selected=e},expression:"art_selected"}},t._l(t.artists,(function(e){return s("v-list-item",{key:e.id,staticClass:"artist-item"},[s("v-list-item-content",[s("div",{staticClass:"d-flex justify-space-between align-center"},[s("div",{staticClass:"w-20 d-flex align-center text-white"},[s("div",{staticClass:"mr-4",staticStyle:{width:"40px"}},[s("v-img",{staticStyle:{"border-radius":"25px"},attrs:{width:"200px",contain:"",src:t.api.defaults.baseURL+"/api/picture?userid="+e.id}})],1),t._v(" "+t._s(null!=e.pseudo?e.pseudo:e.name)+" ")]),s("div",{staticClass:"top-audio-cotainer"}),s("div",{staticClass:" text-white"},[s("a",{staticClass:"mr-2",on:{click:function(s){return t.$router.push("/profile?userid="+e.id)}}},[t._v("voir")]),t._v(" "+t._s(e.likes)+" "),s("v-icon",{attrs:{color:"red"}},[t._v("mdi-cards-heart")])],1)])])],1)})),1)],1)],1)},Fe=[],Ne={name:"artist",components:{Searchbar:G},data:function(){return{artists:[],art_selected:1,query_search:"",api:m}},mounted:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(m.defaults.baseURL),e.next=3,t.get_artists();case 3:case"end":return e.stop()}}),e)})))()},methods:{get_artists:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=n.length>0&&void 0!==n[0]?n[0]:0,t.next=3,m.get(null!==(e="/api/creators?page="+s+"&token="+this.$store.state.token)&&void 0!==e?e:"").catch((function(t){console.log(t)}));case 3:return i=t.sent,200==i.status&&(this.artists=i.data.rows),t.abrupt("return",this.artists);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),like:function(t){var e=this;m.post("/like",{model:"creator",modelid:t}).theb((function(s){var i=s.data;console.log(i),e.artist.filters((function(e){e.id==t&&(e.liked=i.liked)}))})).catch((function(t){console.log(t)}))}}},ze=Ne,He=s("1baa"),Ue=Object(B["a"])(ze,Ae,Fe,!1,null,null,null),We=Ue.exports;F()(Ue,{VIcon:H["a"],VImg:Re["a"],VList:nt["a"],VListItem:at["a"],VListItemContent:$t["a"],VListItemGroup:He["a"]});var Ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"discover-songs-part"})},Je=[],Xe={name:"song",data:function(){return{page:"creation",search_query:"",datas:[]}},mounted:function(){},methods:{get_datas:function(){}}},Ye=Xe,Ke=Object(B["a"])(Ye,Ge,Je,!1,null,null,null),Qe=Ke.exports,Ze={name:"discover",components:{artists:We,songs:Qe},data:function(){return{creators:[],packs:[],page:"artists"}},mounted:function(){},methods:{}},ts=Ze,es=Object(B["a"])(ts,qe,Be,!1,null,null,null),ss=es.exports;F()(es,{VBtn:N["a"]}),i["a"].use(_["a"]);var is=new _["a"]({mode:"history",routes:[{path:"/",name:"home",component:ss},{path:"/authentication",name:"authentication",component:xe},{path:"/profile",name:"profile",component:Le},{path:"/session",name:"session",component:Wt},{path:"/discover",name:"discorver",component:ss}]}),ns=is,as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{class:t.appClass,staticStyle:{"overflow-x":"auto"}},["session"!=t.$route.name?s("div",[s("Appbar")],1):t._e(),s("v-app",[t._l(this.$store.state.alerts,(function(t){return s("div",{key:t.id,staticStyle:{position:"absolute",top:"80px",right:"10px","z-index":"99"}},[s("Alert",{attrs:{alert:t}})],1)})),s("v-main",{class:t.$store.state.main_theme},[s("router-view")],1)],2)],1)},rs=[],os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app-bar",{attrs:{app:"",color:"#282828",dark:""}},[s("div",{staticClass:"d-flex justify-center align-center",staticStyle:{width:"100vw"}},[s("div",{staticClass:"navbar-side-left"},[t.$store.state.user&&"profile"!=t.$route.name?s("a",{staticClass:"navlink",attrs:{href:"/profile"}},[t._v("Profile")]):s("a",{staticClass:"navlink",attrs:{href:"/discover"}},[t._v("Discover")])]),s("h1",{staticStyle:{"font-family":"Brush Script MT",cursor:"pointer"},on:{click:function(e){return t.$router.push("discover")}}},[t._v("Sound"),s("span",{staticStyle:{color:"#EE1B1B"}},[t._v("Record")])]),s("div",{staticClass:"navbar-side-left"})])])},ls=[],cs=s("40dc"),us={},ds=Object(B["a"])(us,os,ls,!1,null,null,null),ps=ds.exports;F()(ds,{VAppBar:cs["a"]});var ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-alert",{staticClass:"mx-auto -10 d-flex align-center",staticStyle:{width:"fit-content"},attrs:{elevation:"15",type:t.alert.type,transition:"scale-transition"},model:{value:t.alert.open,callback:function(e){t.$set(t.alert,"open",e)},expression:"alert.open"}},[s("div",{staticClass:"alert-content mr-10"},[Array.isArray(t.alert.message)?s("div",t._l(t.alert.message,(function(e){return s("div",{key:e},[t._v(" "+t._s(e)+" ")])})),0):s("div",[t._v(" "+t._s(t.alert.message)+" ")])]),s("v-btn",{staticClass:"ma-0 pa-0",staticStyle:{right:"5px",position:"absolute",top:"10px"},attrs:{color:"red",icon:""},on:{click:function(e){return t.removeAlert(t.alert)}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1)},fs=[],hs={name:"alert_service",props:{alert:{required:!0}},mounted:function(){var t=this;setTimeout((function(){t.$store.commit("remove_alert",t.alert.id)}),1e4)},methods:{removeAlert:function(t){t.open=!1,this.$store.commit("remove_alert",t.id)}}},vs=hs,_s=s("0798"),gs=Object(B["a"])(vs,ms,fs,!1,null,null,null),bs=gs.exports;F()(gs,{VAlert:_s["a"],VBtn:N["a"],VIcon:H["a"]});var ks={components:{Appbar:ps,Alert:bs},data:function(){return{appClass:""}},mounted:function(){this.checkScreen(),this.is_loggedIn(),window.onresize=this.checkScreen,"homme"==this.$route.name&&(this.appClass="bg-dark")},methods:{is_loggedIn:function(){var t=this;m.get("/api/auth/").catch((function(){"authentication"!==t.$route.name&&t.$router.push("authentication")}))},checkScreen:function(){this.$store.commit("set_width",window.screen.width)}}},xs=ks,ys=s("7496"),ws=s("f6c4"),Cs=Object(B["a"])(xs,as,rs,!1,null,null,null),$s=Cs.exports;F()(Cs,{VApp:ys["a"],VMain:ws["a"]}),window.localStorage.getItem("vuex")||window.localStorage.setItem("vuex","{}"),"/authentication"==window.location.pathname&&(s("368ec"),s("2d5e")),s("7d05"),s("c987"),i["a"].use(r["a"]),i["a"].config.productionTip=!0,window.addEventListener("resize",(function(){v.commit("set_width",window.innerWidth)})),new i["a"]({vuetify:a,store:v,router:ns,render:function(t){return t($s)}}).$mount("#app")},"7d05":function(t,e,s){},c987:function(t,e,s){}});
//# sourceMappingURL=app.4f5f4bf8.js.map